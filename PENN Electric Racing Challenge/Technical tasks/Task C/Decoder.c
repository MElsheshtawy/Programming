#include <cstdio>#include <cstdint>int32_t readInt32Universal(FILE *file) {    int indianess = (fgetc(file) & 0xFF);    int32_t value = 0;    if(indianess == 1){        for (int i = 0; i < 4; ++i) {            value |= (fgetc(file) & 0xFF) << (i * 8);        }    }    else{        for (int i = 3; i >= 0; --i) {            value |= (fgetc(file) & 0xFF) << (i * 8);        }    }    return value;}float readFloatUniversal(FILE *file) {    int indianess = (fgetc(file) & 0xFF);    uint8_t data[4];    if(indianess == 1) {        for (int i = 0; i < 4; ++i) {            data[i] = fgetc(file);        }    }    else{        for (int i = 3; i >= 0; --i) {            data[i] = fgetc(file);        }    }    return *reinterpret_cast<float *>(data);}// Main decoder functionvoid decodeData(const char *filename) {    FILE *file = fopen(filename, "rb");    if (!file) {        printf("Error opening file for reading.\n");        return;    }    // Read header (magic number + version)    int32_t magic = readInt32Universal(file);    uint8_t version = fgetc(file);    if (magic != 0x111111) { // Check magic number (password) //handshake        printf("Invalid file format.\n");        fclose(file);        return;    }    // can insert a loop here till the end of the file so that I read different sections    // Read schema section (example: varID, type, size)    uint16_t varID = fgetc(file) | (fgetc(file) << 8);    uint8_t type = fgetc(file);    uint8_t size = fgetc(file);    // Read data according to schema (assuming type is float for this demo)    float data = readFloatUniversal(file);    printf("Read data: %.3f\n", data);    fclose(file);}int main() {    decodeData("data.bin"); // file name    return 0;}